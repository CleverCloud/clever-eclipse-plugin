<?xml version="1.0" encoding="UTF-8"?>
<plugin>

   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="debugenabled">
         <with
               variable="debugEnabled">
            <equals
                  value="true">
            </equals>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            category="org.eclipse.egit.ui.internal.clone.gitclonecategory"
            class="com.clevercloud.eclipse.plugin.ui.wizards.CleverWizard"
            icon="icons/clever16.png"
            id="com.clevercloud.eclipse.plugin.ui.wizards.importCleverWizard"
            name="Import from Clever Cloud">
      </wizard>
   </extension>
   <extension
         id="clevernature"
         name="CleverNature"
         point="org.eclipse.core.resources.natures">
     <runtime>
       <run
	   class="com.clevercloud.eclipse.plugin.CleverNature">
       </run>
     </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?after=additions">
         <menu
               icon="icons/clever16.png"
               label="Clever Cloud">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        ifEmpty="false"
                        operator="and">
                     <adapt
                           type="org.eclipse.core.resources.IProject">
                        <and>
                           <not>
                              <test
                                    property="org.eclipse.core.resources.projectNature"
                                    value="clever-eclipse.clevernature">
                              </test></not>
                        </and>
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.consoleCommand"
                  icon="icons/application_add.png"
                  label="Create an app"
                  style="push">
            </command>
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.consoleCommand"
                  icon="icons/application_link.png"
                  label="Link to an existing app"
                  style="push">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               label="Clever Cloud">
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.consoleCommand"
                  icon="icons/clever16.png"
                  label="Console"
                  style="push">
            </command>
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.disconnectionCommand"
                  icon="icons/disconnect.png"
                  label="Disconnect"
                  style="push">
            </command>
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.creditsCommand"
                  icon="icons/information.png"
                  label="Credits"
                  style="push">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar
               id="com.clevercloud.eclipse.plugin.toolbar.0">
            <command
                  commandId="com.clevercloud.eclipse.plugin.command.consoleCommand"
                  icon="icons/clever.png"
                  label="Console"
                  style="push">
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.clevercloud.eclipse.plugin.handlers.ConsoleHandler"
            commandId="com.clevercloud.eclipse.plugin.command.consoleCommand">
      </handler>
      <handler
            class="com.clevercloud.eclipse.plugin.handlers.DisconnectionHandler"
            commandId="com.clevercloud.eclipse.plugin.command.disconnectionCommand">
      </handler>
      <handler
            class="com.clevercloud.eclipse.plugin.handlers.CreditsHandler"
            commandId="com.clevercloud.eclipse.plugin.command.creditsCommand">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="com.clevercloud.eclipse.plugin.command.consoleCommand"
            name="Console">
      </command>
      <command
            id="com.clevercloud.eclipse.plugin.command.disconnectionCommand"
            name="Disconnect">
      </command>
      <command
            id="com.clevercloud.eclipse.plugin.command.creditsCommand"
            name="Credits">
      </command>
   </extension>
</plugin>
